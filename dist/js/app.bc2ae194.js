(function(){var e={6125:function(e){e.exports={baseUrl:"http://superupup.top"}},8714:function(e,t,o){"use strict";var n=o(9242),a=o(7724),i=(o(4415),o(3396));function l(e,t,o,n,a,l){const s=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(s)}var s={name:"App",components:{}},r=o(89);const u=(0,r.Z)(s,[["render",l]]);var d=u,c=o(2483),p=o(7139);const m={class:"menu"},g=(0,i.Uk)("自动升级： ");function h(e,t,o,n,a,l){const s=(0,i.up)("el-button"),r=(0,i.up)("el-table-column"),u=(0,i.up)("el-table"),d=(0,i.Q2)("loading");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",m,[(0,i._)("a",null,[g,(0,i.Wm)(s,{onClick:l.changeUpgrade,size:"small",disabled:a.auto_upgrade_disable,type:a.auto_upgrade?"primary":"danger"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,p.zw)(a.auto_upgrade?"开启":"关闭"),1)])),_:1},8,["onClick","disabled","type"])])]),(0,i.wy)(((0,i.wg)(),(0,i.j4)(u,{data:a.sign_history,stripe:"",style:{width:"100%"}},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{prop:"sign_time",label:"签到日期"}),(0,i.Wm)(r,{prop:"status",label:"签到状态"})])),_:1},8,["data"])),[[d,a.loading]])],64)}o(1703);var f=o(6265),w=o.n(f),b=o(7178),_=o(2655);const v=w().create({baseURL:{NODE_ENV:"production",BASE_URL:""}.VUE_APP_BASE_API,timeout:12e3});v.interceptors.request.use((e=>e),(e=>(console.log(e),Promise.reject(e)))),v.interceptors.response.use((e=>{const t=e.data;return 200!==t.code?((0,b.z8)({message:t.msg||"Error",type:"error",duration:5e3}),50008!==t.code&&50012!==t.code&&50014!==t.code||_.T.confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((()=>{})),Promise.reject(new Error(t.msg||"Error"))):t}),(e=>(console.log("err"+e),(0,b.z8)({message:e.message,type:"error",duration:5e3}),Promise.reject(e))));var y=v;const k={isEnd:!1,start(e){let t=null;e&&window.addEventListener("scroll",(()=>{t&&clearTimeout(t),t=setTimeout((()=>{const t=document.documentElement.scrollTop||document.body.scrollTop,o=document.documentElement.scrollHeight,n=document.documentElement.clientHeight;this.isEnd||o!=t+n||(window.scrollTo(0,t-100),e())}),300)}))},end(){this.isEnd=!0}};var S=k,x=o(6125),U=o.n(x),W={data(){return{sign_history:[],loading:!1,count:50,user:{},auto_upgrade:!0,auto_upgrade_disable:!1}},mounted(){document.title="签到结果",this.user=JSON.parse(window.localStorage.getItem("user")),this.getSignLi(),S.start(this.getSignLi)},methods:{changeUpgrade(){this.auto_upgrade_disable=!0,this.loading=!0;let e=new FormData;e.append("username",this.user.username),e.append("pwd",this.user.pwd),e.append("auto_upgrade",!this.auto_upgrade),y.post(`${U().baseUrl}/98t/changeUpgrade`,e).then((e=>{this.auto_upgrade=e.auto_upgrade})).finally((()=>{this.loading=!1,this.auto_upgrade_disable=!1}))},getSignLi(){console.log("获取新数据"),this.loading=!0;let e=new FormData;e.append("username",this.user.username),e.append("pwd",this.user.pwd),e.append("skip",this.sign_history.length),e.append("limit",this.count),y.post(`${U().baseUrl}/98t/checkStatus`,e).then((e=>{const t=e.sign_history;for(let o=0,n=t.length;o<n;o++){const e=new Date(1e3*t[o].sign_time),n=e.getFullYear(),a=("0"+(e.getMonth()+1)).slice(-2),i=("0"+e.getDate()).slice(-2),l=("0"+e.getHours()).slice(-2),s=("0"+e.getMinutes()).slice(-2);t[o].sign_time=`${n}年${a}月${i}日 ${l}:${s}`}t.length<this.count&&S.end(),this.sign_history=this.sign_history.concat(t),this.auto_upgrade=e.auto_upgrade})).finally((()=>{this.loading=!1}))}}};const V=(0,r.Z)(W,[["render",h]]);var C=V,O=o.p+"img/bg.f36d942f.jpg",L=o.p+"img/github.13ad660f.svg";const E=e=>((0,i.dD)("data-v-f68402ca"),e=e(),(0,i.Cn)(),e),P=E((()=>(0,i._)("img",{class:"bgone",src:O},null,-1))),j={class:"login-container"},T=E((()=>(0,i._)("div",{class:"title"},[(0,i._)("div",{class:"name1"},"98堂自动签到系统"),(0,i._)("div",{class:"name2"},"98tang auto sign system")],-1))),$={class:"login-panel"},D=E((()=>(0,i._)("div",{style:{"font-size":"12px",color:"grey","margin-right":"20px"}}," 到github上Fork和Star就是我维护的动力 ",-1))),N=E((()=>(0,i._)("div",null,[(0,i._)("img",{style:{height:"35px",width:"35px"},alt:"github",src:L}),(0,i._)("div",{style:{"white-space":"nowrap","font-size":"14px","margin-top":"3px"}}," 源码/说明 ")],-1))),I=[D,N],F=["model"],q={class:"mt-4"},z=(0,i.Uk)("登录"),A={class:"form"},B=(0,i.Uk)("提交"),H=(0,i.Uk)("昨日签到用户数");function M(e,t,n,a,l,s){const r=(0,i.up)("el-image"),u=(0,i.up)("el-input"),d=(0,i.up)("el-option"),c=(0,i.up)("el-select"),p=(0,i.up)("el-button"),m=(0,i.up)("el-tab-pane"),g=(0,i.up)("el-tabs"),h=(0,i.up)("el-badge");return(0,i.wg)(),(0,i.iD)(i.HY,null,[P,(0,i._)("div",j,[T,(0,i._)("div",$,[(0,i._)("div",{onClick:t[0]||(t[0]=(...e)=>s.goGithub&&s.goGithub(...e)),class:"github"},I),(0,i.Wm)(r,{style:{width:"320px",height:"320px"},src:o(8259),fit:"cover"},null,8,["src"]),(0,i.Wm)(g,{style:{margin:"33px 0 0 100px"},modelValue:l.activeName,"onUpdate:modelValue":t[6]||(t[6]=e=>l.activeName=e),class:"demo-tabs"},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{label:"常规登录",name:"commonLogin"},{default:(0,i.w5)((()=>[(0,i._)("div",{class:"form",model:l.form},[(0,i.Wm)(u,{modelValue:l.form.name,"onUpdate:modelValue":t[1]||(t[1]=e=>l.form.name=e),placeholder:"用户名"},null,8,["modelValue"]),(0,i.Wm)(u,{modelValue:l.form.pwd,"onUpdate:modelValue":t[2]||(t[2]=e=>l.form.pwd=e),type:"password",placeholder:"密码","show-password":""},null,8,["modelValue"]),(0,i._)("div",q,[(0,i.Wm)(u,{modelValue:l.form.answer,"onUpdate:modelValue":t[4]||(t[4]=e=>l.form.answer=e),placeholder:"选填",class:"input-with-select"},{prepend:(0,i.w5)((()=>[(0,i.Wm)(c,{modelValue:l.form.questionId,"onUpdate:modelValue":t[3]||(t[3]=e=>l.form.questionId=e),placeholder:"密保问题",style:{width:"115px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{label:"母亲的名字",value:"1"}),(0,i.Wm)(d,{label:"爷爷的名字",value:"2"}),(0,i.Wm)(d,{label:"父亲出生的城市",value:"3"}),(0,i.Wm)(d,{label:"您其中一位老师的名字",value:"4"}),(0,i.Wm)(d,{label:"您个人计算机的型号",value:"5"}),(0,i.Wm)(d,{label:"您最喜欢的餐馆名称",value:"6"}),(0,i.Wm)(d,{label:"驾驶执照最后四位数字",value:"7"})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])]),(0,i.Wm)(p,{loading:l.loading,onClick:s.onSubmit,class:"login-btn",type:"primary"},{default:(0,i.w5)((()=>[z])),_:1},8,["loading","onClick"])],8,F)])),_:1}),(0,i.Wm)(m,{label:"cookies批量登录",name:"cookiesLogin"},{default:(0,i.w5)((()=>[(0,i._)("div",A,[(0,i.Wm)(u,{type:"textarea",modelValue:l.cookiesStr,"onUpdate:modelValue":t[5]||(t[5]=e=>l.cookiesStr=e),placeholder:"内容格式点github看说明",rows:7,style:{height:"156px"}},null,8,["modelValue"]),(0,i.Wm)(p,{loading:l.loading,class:"login-btn",type:"primary",onClick:s.onCookiesLogin},{default:(0,i.w5)((()=>[B])),_:1},8,["loading","onClick"])])])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(h,{max:999999,class:"sign-count",value:l.signCount},{default:(0,i.w5)((()=>[(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[H])),_:1})])),_:1},8,["value"])])])],64)}var Y={name:"LoginPanel",props:{msg:String},data(){return{loading:!1,signCount:"",activeName:"commonLogin",cookiesStr:"",form:{name:"",pwd:"",questionId:"",answer:""}}},mounted(){document.title="98堂助手",y.get(`${U().baseUrl}/98t/usersCount`).then((e=>{this.signCount=e.count})).finally((()=>{}))},methods:{onCookiesLogin(){this.loading=!0;let e=new FormData;e.append("cookies",this.cookiesStr),y.post(`${U().baseUrl}/98t/cookiesLogin`,e).then((e=>{console.log(e),_.T.alert(e.msg,e.title,{confirmButtonText:"OK","show-close":!1})})).finally((()=>{this.loading=!1}))},goGithub(){"commonLogin"==this.activeName?window.open("https://github.com/super-upup/98tang"):"cookiesLogin"==this.activeName&&window.open("https://github.com/super-upup/98tang#批量登录")},onSubmit(){let e=new FormData;e.append("username",this.form.name),e.append("pwd",this.form.pwd),this.form.answer&&(e.append("questionid",this.form.questionId),e.append("answer",this.form.answer)),this.loading=!0,window.localStorage.setItem("user",JSON.stringify({username:this.form.name,pwd:this.form.pwd})),y.post(`${U().baseUrl}/98t/commit`,e).then((e=>{this.$router.push({name:"SignPanel"})})).finally((()=>{this.loading=!1}))}}};const Z=(0,r.Z)(Y,[["render",M],["__scopeId","data-v-f68402ca"]]);var G=Z;const R=[{path:"/",name:"LoginPanel",component:G},{path:"/SignPanel",name:"SignPanel",component:C}],J=(0,c.p7)({history:(0,c.r5)(""),routes:R});var K=J,Q=o(2748);const X=(0,n.ri)(d);for(const[ee,te]of Object.entries(Q))X.component(ee,te);X.use(a.Z),X.use(K),X.config.globalProperties.$globalData={},X.mount("#app")},8259:function(e,t,o){"use strict";e.exports=o.p+"img/decorate.04e02886.png"}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,o),i.exports}o.m=e,function(){var e=[];o.O=function(t,n,a,i){if(!n){var l=1/0;for(d=0;d<e.length;d++){n=e[d][0],a=e[d][1],i=e[d][2];for(var s=!0,r=0;r<n.length;r++)(!1&i||l>=i)&&Object.keys(o.O).every((function(e){return o.O[e](n[r])}))?n.splice(r--,1):(s=!1,i<l&&(l=i));if(s){e.splice(d--,1);var u=a();void 0!==u&&(t=u)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,a,i]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p=""}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,i,l=n[0],s=n[1],r=n[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);if(r)var d=r(o)}for(t&&t(n);u<l.length;u++)i=l[u],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(d)},n=self["webpackChunk_98t_auto_sign"]=self["webpackChunk_98t_auto_sign"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(8714)}));n=o.O(n)})();
//# sourceMappingURL=app.bc2ae194.js.map