(function(){var e={6125:function(e){e.exports={baseUrl:"http://superupup.top"}},4501:function(e,t,n){"use strict";var o=n(9242),a=n(7724),r=(n(4415),n(3396));function i(e,t,n,o,a,i){const s=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(s)}var s={name:"App",components:{}},l=n(89);const u=(0,l.Z)(s,[["render",i]]);var d=u,p=n(2483),c=n(7139);const g={class:"menu"},m=(0,r.Uk)("自动升级： ");function h(e,t,n,o,a,i){const s=(0,r.up)("el-button"),l=(0,r.up)("el-table-column"),u=(0,r.up)("el-table"),d=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",g,[(0,r._)("a",null,[m,(0,r.Wm)(s,{onClick:i.changeUpgrade,size:"small",disabled:a.auto_upgrade_disable,type:a.auto_upgrade?"primary":"danger"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,c.zw)(a.auto_upgrade?"开启":"关闭"),1)])),_:1},8,["onClick","disabled","type"])])]),(0,r.wy)(((0,r.wg)(),(0,r.j4)(u,{data:a.sign_history,stripe:"",style:{width:"100%"}},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{prop:"sign_time",label:"签到日期"}),(0,r.Wm)(l,{prop:"status",label:"签到状态"})])),_:1},8,["data"])),[[d,a.loading]])],64)}n(1703);var f=n(6265),w=n.n(f),_=n(7178),b=n(2655);const v=w().create({baseURL:{NODE_ENV:"production",BASE_URL:""}.VUE_APP_BASE_API,timeout:8e3});v.interceptors.request.use((e=>e),(e=>(console.log(e),Promise.reject(e)))),v.interceptors.response.use((e=>{const t=e.data;return 200!==t.code?((0,_.z8)({message:t.msg||"Error",type:"error",duration:5e3}),50008!==t.code&&50012!==t.code&&50014!==t.code||b.T.confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((()=>{})),Promise.reject(new Error(t.msg||"Error"))):t}),(e=>(console.log("err"+e),(0,_.z8)({message:e.message,type:"error",duration:5e3}),Promise.reject(e))));var y=v;const S={isEnd:!1,start(e){let t=null;e&&window.addEventListener("scroll",(()=>{t&&clearTimeout(t),t=setTimeout((()=>{const t=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.scrollHeight,o=document.documentElement.clientHeight;this.isEnd||n!=t+o||(window.scrollTo(0,t-100),e())}),300)}))},end(){this.isEnd=!0}};var x=S,U=n(6125),W=n.n(U),k={data(){return{sign_history:[],loading:!1,count:50,user:{},auto_upgrade:!0,auto_upgrade_disable:!1}},mounted(){this.user=JSON.parse(window.localStorage.getItem("user")),this.getSignLi(),x.start(this.getSignLi)},methods:{changeUpgrade(){this.auto_upgrade_disable=!0,this.loading=!0;let e=new FormData;e.append("username",this.user.username),e.append("pwd",this.user.pwd),e.append("auto_upgrade",!this.auto_upgrade),y.post(`${W().baseUrl}/98t/changeUpgrade`,e).then((e=>{this.auto_upgrade=e.auto_upgrade})).finally((()=>{this.loading=!1,this.auto_upgrade_disable=!1}))},getSignLi(){console.log("获取新数据"),this.loading=!0;let e=new FormData;e.append("username",this.user.username),e.append("pwd",this.user.pwd),e.append("skip",this.sign_history.length),e.append("limit",this.count),y.post(`${W().baseUrl}/98t/checkStatus`,e).then((e=>{const t=e.sign_history;for(let n=0,o=t.length;n<o;n++){const e=new Date(1e3*t[n].sign_time),o=e.getFullYear(),a=("0"+(e.getMonth()+1)).slice(-2),r=("0"+e.getDate()).slice(-2),i=("0"+e.getHours()).slice(-2),s=("0"+e.getMinutes()).slice(-2);t[n].sign_time=`${o}年${a}月${r}日 ${i}:${s}`}t.length<this.count&&x.end(),this.sign_history=this.sign_history.concat(t),this.auto_upgrade=e.auto_upgrade})).finally((()=>{this.loading=!1}))}}};const O=(0,l.Z)(k,[["render",h]]);var E=O,P=n.p+"img/bg.f36d942f.jpg",j=n.p+"img/github.13ad660f.svg";const C=e=>((0,r.dD)("data-v-4d847148"),e=e(),(0,r.Cn)(),e),V=C((()=>(0,r._)("img",{class:"bgone",src:P},null,-1))),T={class:"login-container"},$=C((()=>(0,r._)("div",{class:"title"},[(0,r._)("div",{class:"name1"},"98tang自动签到系统"),(0,r._)("div",{class:"name2"},"98tang auto sign system")],-1))),D={class:"login-panel"},L=C((()=>(0,r._)("div",{style:{"font-size":"12px",color:"grey","margin-right":"20px"}}," 到github上Fork和Star就是我维护的动力 ",-1))),I=C((()=>(0,r._)("div",null,[(0,r._)("img",{style:{height:"35px",width:"35px"},alt:"github",src:j}),(0,r._)("div",{style:{"white-space":"nowrap","font-size":"14px","margin-top":"3px"}}," 源码/说明 ")],-1))),q=[L,I],z=["model"],F={class:"mt-4"},A=(0,r.Uk)("登录"),H=(0,r.Uk)("昨日签到用户数");function M(e,t,o,a,i,s){const l=(0,r.up)("el-image"),u=(0,r.up)("el-input"),d=(0,r.up)("el-option"),p=(0,r.up)("el-select"),c=(0,r.up)("el-button"),g=(0,r.up)("el-badge");return(0,r.wg)(),(0,r.iD)(r.HY,null,[V,(0,r._)("div",T,[$,(0,r._)("div",D,[(0,r._)("div",{onClick:t[0]||(t[0]=(...e)=>s.goGithub&&s.goGithub(...e)),class:"github"},q),(0,r.Wm)(l,{style:{width:"320px",height:"320px"},src:n(8259),fit:"cover"},null,8,["src"]),(0,r._)("div",{class:"form",model:i.form},[(0,r.Wm)(u,{modelValue:i.form.name,"onUpdate:modelValue":t[1]||(t[1]=e=>i.form.name=e),placeholder:"用户名"},null,8,["modelValue"]),(0,r.Wm)(u,{modelValue:i.form.pwd,"onUpdate:modelValue":t[2]||(t[2]=e=>i.form.pwd=e),type:"password",placeholder:"密码","show-password":""},null,8,["modelValue"]),(0,r._)("div",F,[(0,r.Wm)(u,{modelValue:i.form.answer,"onUpdate:modelValue":t[4]||(t[4]=e=>i.form.answer=e),placeholder:"选填",class:"input-with-select"},{prepend:(0,r.w5)((()=>[(0,r.Wm)(p,{modelValue:i.form.questionId,"onUpdate:modelValue":t[3]||(t[3]=e=>i.form.questionId=e),placeholder:"密保问题",style:{width:"115px"}},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{label:"母亲的名字",value:"1"}),(0,r.Wm)(d,{label:"爷爷的名字",value:"2"}),(0,r.Wm)(d,{label:"父亲出生的城市",value:"3"}),(0,r.Wm)(d,{label:"您其中一位老师的名字",value:"4"}),(0,r.Wm)(d,{label:"您个人计算机的型号",value:"5"}),(0,r.Wm)(d,{label:"您最喜欢的餐馆名称",value:"6"}),(0,r.Wm)(d,{label:"驾驶执照最后四位数字",value:"7"})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])]),(0,r.Wm)(c,{loading:i.loading,onClick:s.onSubmit,class:"login-btn",type:"primary"},{default:(0,r.w5)((()=>[A])),_:1},8,["loading","onClick"])],8,z),(0,r.Wm)(g,{max:999999,class:"sign-count",value:i.signCount},{default:(0,r.w5)((()=>[(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[H])),_:1})])),_:1},8,["value"])])])],64)}var B={name:"LoginPanel",props:{msg:String},data(){return{loading:!1,signCount:"",form:{name:"",pwd:"",questionId:"",answer:""}}},mounted(){y.get(`${W().baseUrl}/98t/usersCount`).then((e=>{this.signCount=e.count})).finally((()=>{}))},methods:{goGithub(){window.location.href="https://github.com/super-upup/98tang"},onSubmit(){let e=new FormData;e.append("username",this.form.name),e.append("pwd",this.form.pwd),this.form.answer&&(e.append("questionid",this.form.questionId),e.append("answer",this.form.answer)),this.loading=!0,window.localStorage.setItem("user",JSON.stringify({username:this.form.name,pwd:this.form.pwd})),y.post(`${W().baseUrl}/98t/commit`,e).then((e=>{this.$router.push({name:"SignPanel"})})).finally((()=>{this.loading=!1}))}}};const N=(0,l.Z)(B,[["render",M],["__scopeId","data-v-4d847148"]]);var Y=N;const Z=[{path:"/",name:"LoginPanel",component:Y},{path:"/SignPanel",name:"SignPanel",component:E}],G=(0,p.p7)({history:(0,p.r5)(""),routes:Z});var R=G,J=n(2748);const Q=(0,o.ri)(d);for(const[K,X]of Object.entries(J))Q.component(K,X);Q.use(a.Z),Q.use(R),Q.config.globalProperties.$globalData={},Q.mount("#app")},8259:function(e,t,n){"use strict";e.exports=n.p+"img/decorate.04e02886.png"}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,r){if(!o){var i=1/0;for(d=0;d<e.length;d++){o=e[d][0],a=e[d][1],r=e[d][2];for(var s=!0,l=0;l<o.length;l++)(!1&r||i>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(s=!1,r<i&&(i=r));if(s){e.splice(d--,1);var u=a();void 0!==u&&(t=u)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,a,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,r,i=o[0],s=o[1],l=o[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)var d=l(n)}for(t&&t(o);u<i.length;u++)r=i[u],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},o=self["webpackChunk_98t_auto_sign"]=self["webpackChunk_98t_auto_sign"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(4501)}));o=n.O(o)})();
//# sourceMappingURL=app.fab33f37.js.map